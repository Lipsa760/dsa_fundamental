<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var gameOfLife = function (s) {
    marks(s);
  
    for (let i = 0; i < s.length; i++) {
      for (let j = 0; j < s[i].length; j++) {
        if (s[i][j] === -1) {
          s[i][j] = 1;
        } else if (s[i][j] === 2) {
          s[i][j] = 0;
        }
      }
    }
    return s;
  };
  
  const marks = (s) => {
    
    for (let i = 0; i < s.length; i++) {
      for (let j = 0; j < s[i].length; j++) {
        let n = getn(s, i, j);
        if (aliveToDead(s, i, j, n)) {
          s[i][j] = 2;
        } else if (deadToAlive(s, i, j, n)) {
          s[i][j] = -1;
        }
      }
    }
  };
  
  const deadToAlive = (s, i, j, n) => {
    return s[i][j] === 0 && n === 3;
  };
  
  const aliveToDead = (s, i, j, n) => {
    return s[i][j] === 1 && (n < 2 || n > 3);
  };
  
  const getn = (s, i, j) => {
    let count = 0;
    const directions = [
      [-1, -1],
      [-1, 0],
      [-1, 1],
      [0, -1],
      [0, 1],
      [1, -1],
      [1, 0],
      [1, 1],
    ];
  
    for (const direction of directions) {
      let x = i + direction[0];
      let y = j + direction[1];
      
      if (x >= 0 && x < s.length && y >= 0 && y < s[0].length) {

        if (s[x][y] > 0) {
          count++;
        }
      }
    }
    return count;
  };
    </script>
</body>
</html>